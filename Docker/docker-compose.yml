version: "3"
services:
  superalgos:
    build: 
      context: ..
      dockerfile: ./Docker/Dockerfile
    image: ghcr.io/superalgos/superalgos:latest
    command: ["minMemo", "demoMode"]
    user: "$UID:$GID"
    environment:
      DEMO_MODE: 'true'
      DEMO_MODE_HOST: '161.35.104.203'
    ports:
      - '34248:34248'
      - '18041:18041'
    volumes:
      - ../Platform/My-Data-Storage:/app/Platform/My-Data-Storage
      - ../Platform/My-Log-Files:/app/Platform/My-Log-Files
      - ../Platform/My-Workspaces:/app/Platform/My-Workspaces
    restart: on-failure
